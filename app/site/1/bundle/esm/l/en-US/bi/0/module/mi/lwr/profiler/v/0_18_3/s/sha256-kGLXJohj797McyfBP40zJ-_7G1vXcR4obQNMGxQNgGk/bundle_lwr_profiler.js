var l=function(t){return t[t.Start=0]="Start",t[t.End=1]="End",t}(l||{});let e;function M(t){e=t}const r=globalThis.performance,s=typeof r!="undefined"&&typeof r.mark=="function"&&typeof r.clearMarks=="function"&&typeof r.measure=="function"&&typeof r.clearMeasures=="function";function f(t,n){return n?`${t}-${n}`:t}function m(t,n,o){const a=f(t,n);return n&&o?`${a}_${o}`:a}function k(t,n){const o=t||n?{...n}:null;return o&&t&&(o.specifier=t),o}function N({id:t,specifier:n,specifierIndex:o,metadata:a}){if(e){e({id:t,phase:l.Start,specifier:n,metadata:a,specifierIndex:o});return}if(s){const u=m(t,n,o),c=k(n,a);r.mark(u,{detail:c})}}function p({id:t,specifier:n,specifierIndex:o,metadata:a}){if(e)e({id:t,phase:l.End,specifier:n,metadata:a,specifierIndex:o});else if(s){const u=m(t,n,o),c=f(t,n),g=k(n,a);r.measure(c,{start:u,detail:g}),r.clearMarks(u),r.clearMeasures(c)}}export{M as attachDispatcher,p as logOperationEnd,N as logOperationStart};
